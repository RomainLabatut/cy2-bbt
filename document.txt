La Plateforme_
It’s all Virtual (⅓)


________________


  
Introduction
Maintenant que vous êtes prêts à démarrer, il va falloir installer vos outils de travail et vos environnements. Vous n'allez pas faire que cela, une série de jobs est consacrée à la prise en main de Linux. Ceux qui auraient déjà une bonne expérience de l'environnement peuvent aller plus loin que les préconisations et enrichir leurs configurations. Ceux qui n’en ont jamais fait, constateront qu’ils peuvent, à partir de commandes toutes simples, réaliser de grandes choses.






Job 1
Avant d’envisager de porter de grands sujets,  il va falloir installer vos outils de travail et vos environnements.
L’essentiel de vos installations, configurations d’outils et manipulations vont se passer à l’aide de “VM”, c'est-à-dire d’environnements virtuels. Une machine virtuelle permet de passer facilement d’une machine à une autre, par exemple en simulant du client serveur.
Pour commencer, installez l’outil Virtualbox de Oracle. Ceci ne devrait prendre que quelques minutes. Vous pouvez utiliser un outil si les fonctionnalités sont similaires, privilégiez l’Open Source.
  

Installez les trois machines virtuelles suivantes :
* Un serveur Linux sous Debian (dernière version stable disponible). Ce sera le serveur principal, il ne faut donc pas installer d’interface graphique. Nommez-le  “primary”. Créez le compte “admin”, mdp “admin” et pour l’utilisateur root, mot de passe “tech”.
* Un serveur secondaire sous Debian (dernière version stable disponible). Nommez-le “secondary”. Créez le compte “admin”, mdp “ciso” et pour l’utilisateur root, mot de passe “tech”.
Est-il nécessaire de tout réinstaller ?
* Un poste client sous windows qui fera office de poste client utilisé par des invités. Créez l'utilisateur “invite” avec le mot de passe “invite”.
Vous êtes libres de déterminer le nombre de coeurs, RAM, et espace disques que vous souhaitez allouer à chacune de vos VM en fonction des caractéristiques de votre machine. Ces paramètres sont modifiables après avoir installé les systèmes.
Job 2
Lancez votre machine principale. Identifiez-vous en tant que “admin”. A la racine de votre home, créez un fichier “commandes.txt” qui contient les commandes système essentielles et une description de leur fonctionnalité :
   * Afficher le manuel d’une commande
   * Afficher le répertoire en cours
   * Changer de répertoire
   * Revenir au répertoire précédent
   * Lister les fichiers présents dans un répertoire
   * Lister les fichiers présents dans un répertoire avec leurs droits associés, sous la forme de liste et en incluant les fichiers cachés
   * Créer un fichier
   * Insérer du texte dans un fichier
   * Supprimer un fichier
   * Afficher le contenu d’un fichier
   * Créer un répertoire
   * Copier un répertoire
   * Renommer un répertoire
   * Déplacer un répertoire
   * Supprimer un répertoire
   * Créer un lien symbolique
   * Chercher un fichier sur votre disque en se basant sur son nom
   * Chercher du texte dans un fichier
   * Afficher le texte “Bonjour tout le monde”
   * Afficher l’historique des commandes qui ont été tapées
   * Afficher la version du système d’exploitation installée
   * Afficher la date et l’heure
   * Afficher la durée depuis laquelle le système d’exploitation est allumé
   * Rechercher les mises à jour disponibles pour le système
   * Installer les nouvelles mises à jour disponibles depuis la dernière recherche
   * Se connecter en tant que super utilisateur
   * Installer l’éditeur de texte “emacs”
   * Connaître son/ses adresses ip
Job 3
Maintenant que vous avez votre système en place et que vous savez utiliser les commandes système usuelles, créez un nouvel utilisateur “utilisateur”. Créez un groupe “invites”. Ajoutez l’utilisateur “utilisateur” dans le groupe “invites”.
Créez l’utilisateur “assistant”, le groupe “administrateur”. Ajoutez “assistant” dans le groupe “administrateur”.
Créez un utilisateur “test”. Supprimez l’utilisateur “test”.
Job 4
Dans /home/utilisateur, créez un dossier “My configs”. Dans ce dossier, créez un fichier conf1.conf et un fichier conf2.conf. Changez les droits de ces fichiers de sorte à ce que tout le monde puisse accéder au fichier conf1.conf mais seuls les utilisateurs du groupe “invites” puissent accéder au fichier “conf2”. Même chose avec les droits de l’utilisateur “invite”.
Une fois que les droits sont appliqués, assurez-vous que tout est fonctionnel en vous authentifiant avec les différents utilisateurs.
Job 5
Créer un script “bigfiles.sh” qui liste les fichiers dont la taille dépasse 50mo sur votre disque. Lancez le script de deux façons différentes.
Job 6
Téléchargez le fichier document.txt et placez-le dans votre dossier /home/utilisateur. Quelle commande permet de télécharger un fichier à l’aide d’un lien ?
Créez les scripts “script1.sh”, script2.sh”, “scriptX.sh”... permettant de faire les opérations suivantes sur le fichier “document.txt” :
   * Chercher toutes les lignes commençant par “j” ou “J”.
   * Chercher le nombre d'occurrence de la lettre “e”.
   * Chercher toutes les lignes contenant au moins un chiffre.
   * Cherchez les lignes contenant “ch” et “j”
   * Cherchez toutes les lignes commençant par une majuscule.
   * Cherchez toutes les lignes commençant par Job
   * Comment faire une recherche dans un fichier au format pdf ?
Job 7
A l'aide de la commande adéquate, affichez les logs système. A quoi correspondent ces logs, comment sont-ils organisés ? Copiez les principaux logs système dans un nouveau répertoire /home/utilisateur/archives.
Job 8
Récupérez l’historique des commandes que vous avez tapées aujourd’hui dans un fichier “history.txt”. Archivez ce fichier ainsi que les logs récupérés précédemment dans une tarball nommée  “jour2.tar.gz”. Uploadez-le sur le répertoire git créé hier. Comment extraire les fichiers d’une tarball ?
Rendu
Une soutenance aura lieu afin de présenter les différentes compétences vues durant la semaine.
Base de connaissances
https://www.virtualbox.org/
https://www.debian.org/distrib/netinst
https://www.clubic.com/telechargement-en-cours/442707-0-windows-10.html
https://www.lebigdata.fr/virtualisation-definition
https://lecrabeinfo.net/virtualbox-installer-windows-linux-dans-une-machine-virtuelle.html
https://openclassrooms.com/fr/courses/43538-reprenez-le-controle-a-laide-de-linux/39499-installer-des-programmes-avec-apt-get
http://sebsauvage.net/comprendre/linux/
https://buzut.developpez.com/tutoriels/101-commandes-indispensables-sous-linux/
https://www.debian.org/doc/manuals/debian-handbook/
https://www.tuteurs.ens.fr/unix/exercices/grep.html
https://openclassrooms.com/fr/courses/43538-reprenez-le-controle-a-laide-de-linux/40172-extraire-trier-et-filtrer-des-donnees
https://homputersecurity.com/2017/12/23/comment-effectuer-des-recherches-a-travers-des-fichiers-pdf-avec-pdf-grep/
https://www.eurovps.com/blog/important-linux-log-files-you-must-be-monitoring/